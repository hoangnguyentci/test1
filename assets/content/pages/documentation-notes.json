{"pageTitle":"Documentation Notes","pageBlocks":[{"sectionEntryTitle":"Documentation Notes Section","sectionMessage":"# Notes #\n\n### Creating a Note ###\nTo create a note, we need a few things. First the `comment` and  the user, `user_id`, who wrote the note. In addition to this you need to pass in `listing_ids` and, optionally, `tags`, whilst similar they have different uses. \n\nThe `listing_ids` parameter is an array of listings ids within the chain that you would like to associate the note with, so that it can appear inside the includes (we'll explain that in the Getting Notes section below). We recommend that you pass in all listing ids on a chain, so that should a chain change for any reason you won't have lost your notes. \n\nThe `tags` parameter is an array of listing ids that you would like a note to be explicitly linked to, it may be that the note you are creating is not about your listing but a different listing, or listings, in the chain, maybe one listing has asked for additional information on another and you would like to make a note about it and tag the listings involved.\n\nLet's run through an example of this:\n```shell\ncurl \\\n  -H \"Content-Type: application\/json\" \\\n  -H \"Authorization: Bearer <YOUR-ACCESS-TOKEN>\" \\\n  -X POST -d { \\\n    \"comment\": \"Mr and Mrs Smith have still not received the contract\", \\\n    \"user_id\": 1, \\\n    \"listing_ids\": [1, 2, 3, 4], \\\n    \"tags\": [2, 3] } \\\n  https:\/\/admin.viewmychain.com\/api\/v1\/note\n```\n\nHere we created a note by user `1` that says `Mr and Mrs Smith have still not received the contract`, and we have attached all 4 listing ids in the chain in the `listing_ids` parameter. Additionally, we have tagged the note with listing `2` and `3`. If successful, you will receive a response like this:\n```json\n{\n  \"data\": {\n    \"id\": \"1\",\n    \"type\": \"note\",\n    \"attributes\": {\n      \"created_at\": 1485517053,\n      \"comment\": \"Mr and Mrs Smith have still not received the contract\",\n      \"user_id\": 1,\n      \"tags\": [\"2 High Street\", \"27 Boundary Avenue\"],\n      \"created_by\": \"John Doe\",\n      \"updated_at\": 1485517053,\n      \"deleted_at\": null\n    }\n  }\n}\n```\n\nIn the response you will notice that the `tags` are presented to you with the street addresses as opposed to the `listing_ids`. Additionally, the response also contains the users name, `created_by`, as well as the `user_id`. This is to save you having to make multiple requests for presentation data.\n\n**API Reference**\n[https:\/\/admin.viewmychain.com\/api\/v1\/note](\/docs\/api\/#operation\/create-note)\n\n### Getting Notes ###\nYou can get all notes you or your team members have created by using the [note index end point](\/docs\/api\/#operation\/get-notes), which is relatively straight forward, however it is probably not very useful, you probably want to get notes on a listing basis. You can do that too! Use the get listing endpoint and include the notes like so:\n\n```shell\ncurl \\\n  -H \"Content-Type: application\/json\" \\\n  -H \"Authorization: Bearer <YOUR-ACCESS-TOKEN>\" \\\n  -X GET https:\/\/admin.viewmychain.com\/api\/v1\/listing\/1?includes=notes\n```\n\n```json\n{\n  \"data\": {\n    \"id\": 1,\n    \"type\": \"listing\",\n    \"attributes\": {\n      \"address_id\": 12345678,\n      \"branch_id\": 1,\n      \"price\": 100000,\n      \"chain_link_id\": \"DFAD3925-0322-49F4-8F14-BF516CE96097\",\n      \"is_locked\": false,\n      \"full_address\": \"1 Sample Street, Sample Town, AB12 3CD\",\n      \"address_street_name\": \"1 Sample Street\",\n      \"address_area\": \"Sample Town\",\n      \"address_postal_code\": \"AB12 3CD\",\n      \"created_at\": 1511264955,\n      \"updated_at\": 1511264955\n    },\n    \"relationships\": {\n      \"notes\":{\n        \"data\": [{\n          \"type\": \"note\",\n          \"id\": 1\n        },{\n          \"type\": \"note\",\n          \"id\": 2\n        }]\n      }\n    }\n  },\n  \"included\": {\n    \"data\": [{\n      \"type\": \"note\",\n      \"id\": \"1\",\n      \"attributes\": {\n        \"comment\": \"Example comment 1\",\n        \"user_id\": 1,\n        \"tags\": [\n          \"1 Sample Street\"\n        ],\n        \"created_by\": \"John Doe\",\n        \"created_at\": 1485517053,\n        \"updated_at\": 1485517053,\n        \"deleted_at\": null\n      }\n    },\n    {\n      \"type\": \"note\",\n      \"id\": \"2\",\n      \"attributes\": {\n        \"comment\": \"Example comment 2\",\n        \"user_id\": 1,\n        \"tags\": [\n          \"1 Sample Street\",\n          \"2 High Street\"\n        ],\n        \"created_by\": \"John Doe\",\n        \"created_at\": 1485772031,\n        \"updated_at\": 1485517053,\n        \"deleted_at\": null\n      }\n    }]\n  }\n}\n```\n\n> You can only retrieve notes by users in the same branch(es) as you.\n\n**API References**\n[https:\/\/admin.viewmychain.com\/api\/v1\/note](\/docs\/api\/#operation\/create-note)\n[https:\/\/admin.viewmychain.com\/api\/v1\/listing\/{listing}](\/docs\/api\/#operation\/get-listing)","sectionClass":"standard--static","sectionType":"StandardSection","sysMeta":{"createdAt":"2018-01-26T12:07:18.900Z","updatedAt":"2018-02-07T14:35:27.015Z","contentType":"section"}}],"pageTemplate":"static","slug":"documentation-notes","sysMeta":{"createdAt":"2018-01-26T11:06:09.325Z","updatedAt":"2018-01-26T12:16:13.008Z","contentType":"page"}}